/*! Burner v2.1.1 - 2013-09-08 05:09:54 
Vince Allen |Brooklyn, NY | vince@vinceallen.com | @vinceallenvince | License: MIT */
!function(a,b){function c(a,b){var c=a||0,d=b||0;this.x=c,this.y=d}function d(){var a,b;this.name="StatsDisplay",this._active=!0,this._fps=0,this._time=Date.now?Date.now():0,this._timeLastFrame=this._time,this._timeLastSecond=this._time,this._frameCount=0,this.el=document.createElement("div"),this.el.id="statsDisplay",this.el.className="statsDisplay",this.el.style.backgroundColor="black",this.el.style.color="white",this.el.style.fontFamily="Helvetica",this.el.style.padding="0.5em",this.el.style.opacity="0.5",this._totalElementsValue=null,this._fpsValue=null,a=document.createElement("span"),a.className="statsDisplayLabel",a.style.marginLeft="0.5em",b=document.createTextNode("total elements: "),a.appendChild(b),this.el.appendChild(a),this._totalElementsValue=document.createTextNode("0"),this.el.appendChild(this._totalElementsValue),a=document.createElement("span"),a.className="statsDisplayLabel",a.style.marginLeft="0.5em",b=document.createTextNode("fps: "),a.appendChild(b),this.el.appendChild(a),this._fpsValue=document.createTextNode("0"),this.el.appendChild(this._fpsValue),document.body.appendChild(this.el),this._update(this)}function e(){}function f(b){if(!b||!b.world||"object"!=typeof b.world)throw new Error('Item: A valid DOM object is required for the new Item "world" property.');this.world=b.world,this.name=b.name||"Item",this.id=this.name+a.System.getNewId(),this._force=new a.Vector,this._camera=new a.Vector,this.el=document.createElement("div"),this.el.id=this.id,this.el.className="item "+this.name.toLowerCase(),this.el.style.visibility="hidden",this.world.el.appendChild(this.el)}function g(b,c){if(!b||"object"!=typeof b)throw new Error('World: A valid DOM object is required for the new World "el" property.');var d=c||{},e=a.System.getWindowSize();this.el=b,this.name="World",this.el.className=this.name.toLowerCase(),this.id=this.name+a.System.getNewId(),this.width=d.width||0,this.height=d.height||0,this.autoWidth=!!d.autoWidth,this.autoHeight=!!d.autoHeight,this.angle=0,this.color=d.color||"transparent",this.colorMode=d.colorMode||"rgb",this.visibility=d.visibility||"visible",this.opacity=d.opacity||1,this.borderWidth=d.borderWidth||0,this.borderStyle=d.borderStyle||"none",this.borderColor=d.borderColor||"transparent",this.boxShadowOffset=d.boxShadowOffset||new a.Vector,this.boxShadowBlur=d.boxShadowBlur||0,this.boxShadowSpread=d.boxShadowSpread||0,this.boxShadowColor=d.boxShadowColor||"transparent",this.gravity=d.gravity||new a.Vector(0,1),this.c=d.c||.1,this.boundToWindow=d.boundToWindow===!1?!1:!0,this.location=d.location||new a.Vector(e.width/2,e.height/2),this.initLocation=new a.Vector(this.location.x,this.location.y),this.position=d.position||"absolute",this.paddingTop=d.paddingTop||0,this.paddingRight=d.paddingRight||0,this.paddingBottom=d.paddingBottom||0,this.paddingLeft=d.paddingLeft||0,this.marginTop=d.marginTop||0,this.pauseStep=!1,this.pauseDraw=!1,this._setBounds(),this._pool=[],this.world={},this.draw()}function h(b){var c=b||{};c.name="Box",a.Item.call(this,c)}function i(b){var c=b||{};c.name="Ball",a.Item.call(this,c)}b.Burner=a,window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),c.VectorSub=function(a,b){return new c(a.x-b.x,a.y-b.y)},c.VectorAdd=function(a,b){return new c(a.x+b.x,a.y+b.y)},c.VectorMult=function(a,b){return new c(a.x*b,a.y*b)},c.VectorDiv=function(a,b){return new c(a.x/b,a.y/b)},c.VectorDistance=function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))},c.VectorMidPoint=function(a,b){return c.VectorAdd(a,b).div(2)},c.VectorAngleBetween=function(a,b){var c=a.dot(b),d=Math.acos(c/(a.mag()*b.mag()));return d},c.prototype.name="Vector",c.prototype.clone=function(){function a(){}return a.prototype=this,new a},c.prototype.add=function(a){return this.x+=a.x,this.y+=a.y,this},c.prototype.sub=function(a){return this.x-=a.x,this.y-=a.y,this},c.prototype.mult=function(a){return this.x*=a,this.y*=a,this},c.prototype.div=function(a){return this.x=this.x/a,this.y=this.y/a,this},c.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},c.prototype.limit=function(a,b){var c=a||null,d=b||null;return c&&this.mag()>c&&(this.normalize(),this.mult(c)),d&&this.mag()<d&&(this.normalize(),this.mult(d)),this},c.prototype.normalize=function(){var a=this.mag();return 0!==a?this.div(a):void 0},c.prototype.distance=function(a){return Math.sqrt(Math.pow(a.x-this.x,2)+Math.pow(a.y-this.y,2))},c.prototype.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=this.x,e=this.y;return this.x=d*b-e*c,this.y=d*c+e*b,this},c.prototype.midpoint=function(a){return c.VectorAdd(this,a).div(2)},c.prototype.dot=function(a){return this.z&&a.z?this.x*a.x+this.y*a.y+this.z*a.z:this.x*a.x+this.y*a.y},d.prototype.getFPS=function(){return this._fps},d.prototype._update=function(b){var c=a.System.count();b._time=Date.now?Date.now():0,b._frameCount++,b._time>b._timeLastSecond+1e3&&(b._fps=b._frameCount,b._timeLastSecond=b._time,b._frameCount=0,b._fpsValue.nodeValue=b._fps,b._totalElementsValue.nodeValue=c);var d=function(a){return function(){a._update(a)}}(this);this._active&&window.requestAnimFrame(d)},d.prototype.destroy=function(){this._active=!1,document.getElementById(this.el.id)&&document.body.removeChild(this.el)},e.detect=function(a){return this[a]?this[a].call(this):!1},e.csstransforms=function(){var a=["-webkit-transform: translateX(1px) translateY(1px)","-moz-transform: translateX(1px) translateY(1px)","-o-transform: translateX(1px) translateY(1px)","-ms-transform: translateX(1px) translateY(1px)"].join(";"),b=document.createDocumentFragment(),c=document.createElement("div");b.appendChild(c),c.style.cssText=a;for(var d=[c.style.transform,c.style.webkitTransform,c.style.MozTransform,c.style.OTransform,c.style.msTransform],e=!1,f=0;f<d.length;f+=1)if(d[f]){e=!0;break}return e},e.csstransforms3d=function(){var a=["-webkit-transform: translate3d(1px, 1px, 0)","-moz-transform: translate3d(1px, 1px, 0)","-o-transform: translate3d(1px, 1px, 0)","-ms-transform: translate3d(1px, 1px, 0)"].join(";"),b=document.createDocumentFragment(),c=document.createElement("div");b.appendChild(c),c.style.cssText=a;for(var d=[c.style.transform,c.style.webkitTransform,c.style.MozTransform,c.style.OTransform,c.style.msTransform],e=!1,f=0;f<d.length;f+=1)if(d[f]){e=!0;break}return e},e.touch=function(){var a=document.createElement("div");return a.setAttribute("ongesturestart","return;"),"function"==typeof a.ongesturestart?!0:!1},f.prototype.reset=function(b){var c,d=b||{};for(c in d)d.hasOwnProperty(c)&&(this[c]=d[c]);this.width=void 0===d.width?10:d.width,this.height=void 0===d.height?10:d.height,this.color=d.color||[0,0,0],this.colorMode=d.colorMode||"rgb",this.visibility=d.visibility||"visible",this.opacity=void 0===d.opacity?1:d.opacity,this.zIndex=void 0===d.zIndex?1:d.zIndex,this.borderWidth=d.borderWidth||0,this.borderStyle=d.borderStyle||"none",this.borderColor=d.borderColor||"transparent",this.borderRadius=d.borderRadius||0,this.boxShadowOffset=void 0===d.boxShadowOffset?new a.Vector:d.boxShadowOffset,this.boxShadowBlur=d.boxShadowBlur||0,this.boxShadowSpread=d.boxShadowSpread||0,this.boxShadowColor=void 0===d.boxShadowColor?"transparent":d.boxShadowColor,this.bounciness=void 0===d.bounciness?.8:d.bounciness,this.mass=void 0===d.mass?10:d.mass,this.acceleration="function"==typeof d.acceleration?d.acceleration.call(this):d.acceleration||new a.Vector,this.velocity="function"==typeof d.velocity?d.velocity.call(this):d.velocity||new a.Vector,this.location="function"==typeof d.location?d.location.call(this):d.location||new a.Vector(this.world.width/2,this.world.height/2),this.initLocation=new a.Vector,this.initLocation.x=this.location.x,this.initLocation.y=this.location.y,this.maxSpeed=void 0===d.maxSpeed?10:d.maxSpeed,this.minSpeed=d.minSpeed||0,this.angle=d.angle||0,this.position=d.position||"absolute",this.paddingTop=d.paddingTop||0,this.paddingRight=d.paddingRight||0,this.paddingBottom=d.paddingBottom||0,this.paddingLeft=d.paddingLeft||0,this.marginTop=d.marginTop||0,this.lifespan=void 0===d.lifespan?-1:d.lifespan,this.life=d.life||0,this.isStatic=!!d.isStatic,this.controlCamera=!!d.controlCamera,this.worldBounds=d.worldBounds||[!0,!0,!0,!0],this.checkWorldEdges=void 0===d.checkWorldEdges?!0:d.checkWorldEdges,this.wrapWorldEdges=!!d.wrapWorldEdges,this.wrapWorldEdgesSoft=!!d.wrapWorldEdgesSoft,this.avoidWorldEdges=!!d.avoidWorldEdges,this.avoidWorldEdgesStrength=void 0===d.avoidWorldEdgesStrength?50:d.avoidWorldEdgesStrength},f.prototype.step=function(){this.isStatic||(this.applyForce(this.world.gravity),this.velocity.add(this.acceleration),this.velocity.limit(this.maxSpeed,this.minSpeed),this.location.add(this.velocity),this.controlCamera&&this._checkCameraEdges(),this.checkWorldEdges&&this._checkWorldEdges(),this.acceleration.mult(0),this.life<this.lifespan?this.life++:-1!==this.lifespan&&a.System.destroyItem(this))},f.prototype.applyForce=function(a){return a?(this._force.x=a.x,this._force.y=a.y,this._force.div(this.mass),this.acceleration.add(this._force),this.acceleration):void 0},f.prototype._checkWorldEdges=function(){var a,b,c=this.world.bounds[1],d=this.world.bounds[2],e=this.worldBounds,f=this.location,g=this.velocity,h=this.width,i=this.height,j=this.bounciness;this.wrapWorldEdgesSoft?(a=f.x,b=f.y,f.x>c?(f.x=-(c-f.x),this.controlCamera&&(this.world.location.x=this.world.location.x+a-f.x)):f.x<0&&(f.x=c+f.x,this.controlCamera&&(this.world.location.x=this.world.location.x+a-f.x)),f.y>d?(f.y=-(d-f.y),this.controlCamera&&(this.world.location.y=this.world.location.y+b-f.y)):f.y<0&&(f.y=d+f.y,this.controlCamera&&(this.world.location.y=this.world.location.y+b-f.y))):this.wrapWorldEdges?(a=f.x,b=f.y,f.x>c?(f.x=0,this.controlCamera&&(this.world.location.x=this.world.location.x+a-f.x)):f.x<0&&(f.x=c,this.controlCamera&&(this.world.location.x=this.world.location.x+a-f.x)),f.y>d?(f.y=0,this.controlCamera&&(this.world.location.y=this.world.location.y+b-f.y)):f.y<0&&(f.y=d,this.controlCamera&&(this.world.location.y=this.world.location.y+b-f.y))):(f.x+h/2>c&&e[1]?(f.x=c-h/2,g.x*=-1*j):f.x<h/2&&e[3]&&(f.x=h/2,g.x*=-1*j),f.y+i/2>d&&e[2]?(f.y=d-i/2,g.y*=-1*j):f.y<i/2&&e[0]&&(f.y=i/2,g.y*=-1*j))},f.prototype._checkCameraEdges=function(){this._camera.x=this.velocity.x,this._camera.y=this.velocity.y,this.world.location.add(this._camera.mult(-1))},f.prototype.draw=function(){a.System._draw(this)};var j={name:"System"};j._stylePosition="",j.clock=0,j.supportedFeatures={csstransforms:!0,csstransforms3d:!0},j._records={lookup:{},list:[]},j._worlds={lookup:{},list:[]},j._caches={},j._idCount=0,j.mouse={location:new c,lastLocation:new c,velocity:new c},j._resizeTime=0,j.init=function(b,c,d,e){var f=b||function(){},g=c||new a.World(document.body),h=d||null,i=e?!0:!1;if(h){if("object"!=typeof h||"undefined"==typeof h.csstransforms||"undefined"==typeof h.csstransforms3d)throw new Error("System: supportedFeatures should be passed as an object.");this.supportedFeatures=h}else this.supportedFeatures=j._getSupportedFeatures();if(this._stylePosition=j.supportedFeatures.csstransforms3d?"transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>); -webkit-transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>); -moz-transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>); -o-transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>); -ms-transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>);":j.supportedFeatures.csstransforms?"transform: translate(<x>px, <y>px) rotate(<angle>deg) scale(<scale>, <scale>); -webkit-transform: translate(<x>px, <y>px) rotate(<angle>deg) scale(<scale>, <scale>); -moz-transform: translate(<x>px, <y>px) rotate(<angle>deg) scale(<scale>, <scale>); -o-transform: translate(<x>px, <y>px) rotate(<angle>deg) scale(<scale>, <scale>); -ms-transform: translate(<x>px, <y>px) rotate(<angle>deg) scale(<scale>, <scale>);":"position: absolute; left: <x>px; top: <y>px;","[object Array]"===Object.prototype.toString.call(g))for(var k=0,l=g.length;l>k;k++)j._addWorld(g[k]);else j._addWorld(g);document.body.onorientationchange=j.updateOrientation,this._addEvent(window,"resize",function(a){j._resize.call(j,a)}),this._addEvent(document,"mousemove",function(a){j._recordMouseLoc.call(j,a)}),this._addEvent(window,"touchstart",function(a){j._recordMouseLoc.call(j,a)}),this._addEvent(window,"touchmove",function(a){j._recordMouseLoc.call(j,a)}),this._addEvent(window,"touchend",function(a){j._recordMouseLoc.call(j,a)}),this._addEvent(window,"devicemotion",function(a){var b,c=j._caches.World.list,d=a.accelerationIncludingGravity.x,e=a.accelerationIncludingGravity.y;for(k=0,l=c.length;l>k;k++)b=c[k],0===window.orientation?(b.gravity.x=d,b.gravity.y=-1*e):-90===window.orientation?(b.gravity.x=e,b.gravity.y=d):(b.gravity.x=-1*e,b.gravity.y=-1*d)}),this._addEvent(window,"keyup",function(a){j._keyup.call(j,a)}),this._setup=f,this._setup.call(this),i||this._update()},j._addWorld=function(a){j._records.list.push(a),j._worlds.list.push(j._records.list[j._records.list.length-1]),j._worlds.lookup[a.el.id]=j._records.list[j._records.list.length-1]},j.add=function(a,b,c){var d,e,f,g,h,i=this._records.list,k=this._records.lookup,l=b||{};if(l.world=c||i[0],h=this.getAllItemsByName(a,l.world._pool),h.length){for(d=0,e=l.world._pool.length;e>d;d++)if(l.world._pool[d].name===a){i[i.length]=l.world._pool.splice(d,1)[0],i[i.length-1].options=l,j._updateCacheLookup(i[i.length-1],!0);break}}else i[i.length]=Burner[a]?new Burner[a](l):new Burner.Classes[a](l);return f=i.length-1,g=i[f].el.parentNode,k[i[f].id]=g,i[f].reset(l),i[f].init(l),i[f]},j.start=function(){this._update()},j.updateCache=function(a){var b=j._caches[a.name]||(j._caches[a.name]={lookup:{},list:[]});return b.list[b.list.length]=a,b.lookup[a.id]=!0,b},j._updateCacheLookup=function(a,b){var c=j._caches[a.name];c&&(c.lookup[a.id]=b)},j.count=function(){return this._records.list.length},j.firstWorld=function(){return this._worlds.list.length?this._worlds.list[0]:null},j.lastWorld=function(){return this._worlds.list.length?this._worlds.list[this._worlds.list.length-1]:null},j.firstItem=function(){return this._records.list[0]},j.lastItem=function(){return this._records.list[this._records.list.length-1]},j.getAllWorlds=function(){return j._worlds.list},j._update=function(){var a,b,c,d,e=j._records.list,f=j.firstWorld();if(j._resizeTime&&(new Date).getTime()-j._resizeTime>100){for(j._resizeTime=0,d=j.getAllWorlds(),a=0,b=d.length;b>a;a++)d[a].pauseStep=!1;f.afterResize&&f.afterResize.call(this)}for(a=e.length-1;a>=0;a-=1)c=e[a],c.step&&!c.world.pauseStep&&c.step();for(a=e.length-1;a>=0;a-=1)c=e[a],c.draw&&!c.world.drawStep&&c.draw();j.clock++,window.requestAnimFrame(j._update)},j._stepForward=function(){var a,b,c,d,e=j._records.list,f=j.getAllWorlds();for(a=0,c=f.length;c>a;a++){for(d=f[a],d.pauseStep=!0,b=e.length-1;b>=0;b-=1)e[b].step&&e[b].step();for(b=e.length-1;b>=0;b-=1)e[b].draw&&e[b].draw()}j.clock++},j._resetSystem=function(b){var c,d,e,f=j.getAllWorlds();for(c=0,d=f.length;d>c;c++)for(e=f[c],e.pauseStep=!1,e.pauseDraw=!1;e.el.firstChild;)e.el.removeChild(e.el.firstChild);j._caches={},j._destroyAllItems(),j._idCount=0,j.mouse={location:new a.Vector,lastLocation:new a.Vector,velocity:new a.Vector},j._resizeTime=0,b||j._setup.call(j)},j._destroySystem=function(){this._resetSystem(!0),this._destroyAllWorlds(),this.clock=0,this._idCount=0},j._destroyAllItems=function(){var a,b=this._records.list;for(a=b.length-1;a>=0;a--)"World"!==b[a].name&&b.splice(a,1)},j._destroyAllWorlds=function(){var a,b,c=this._records.list;for(a=c.length-1;a>=0;a--)b=c[a],"World"===b.name&&(b.el.parentNode.removeChild(b.el),c.splice(a,1));this._worlds={lookup:{},list:[]}},j.destroyItem=function(a){var b,c,d=this._records.list;for(b=0,c=d.length;c>b;b++)if(d[b].id===a.id){d[b].el.style.visibility="hidden",d[b].el.style.display="none",d[b].el.style.opacity=0,d[b].world._pool[d[b].world._pool.length]=d.splice(b,1)[0],j._updateCacheLookup(a,!1);break}},j.getAllItemsByName=function(a,b){var c,d,e=[],f=b||this._records.list;for(c=0,d=f.length;d>c;c++)f[c].name===a&&(e[e.length]=f[c]);return e},j.getAllItemsByAttribute=function(a,b){var c,d,e=[],f=this._records.list,g=void 0!==b?b:null;for(c=0,d=f.length;d>c;c++)if(void 0!==f[c][a]){if(null!==g&&f[c][a]!==g)continue;e[e.length]=f[c]}return e},j.updateItemPropsByName=function(a,b){var c,d,e,f=this.getAllItemsByName(a);for(c=0,d=f.length;d>c;c++)for(e in b)b.hasOwnProperty(e)&&(f[c][e]=b[e]);return f},j.getItem=function(a){var b,c,d=this._records.list;for(b=0,c=d.length;c>b;b+=1)if(d[b].id===a)return d[b];return null},j.updateItem=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},j._resize=function(){var b,c,d,e,f=this._records.list,g=this.getWindowSize(),h=j.getAllWorlds();for(b=0,c=f.length;c>b;b++)d=f[b],"World"!==d.name&&d.world.boundToWindow&&d.location&&(d.location.x=g.width*(d.location.x/d.world.width),d.location.y=g.height*(d.location.y/d.world.height));for(b=0,c=h.length;c>b;b++)e=h[b],e.boundToWindow&&(e.bounds=[0,g.width,g.height,0],e.width=g.width,e.height=g.height,e.location=new a.Vector(g.width/2,g.height/2))},j._keyup=function(a){var b,c,d,e=this.getAllWorlds();switch(a.keyCode){case 39:j._stepForward();break;case 80:for(b=0,c=e.length;c>b;b++)d=e[b],d.pauseStep=!d.pauseStep;break;case 82:j._resetSystem();break;case 83:j._toggleStats()}},j.getNewId=function(){return this._idCount++,this._idCount},j._addEvent=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},j._recordMouseLoc=function(a){var b,c=this.firstWorld();this.mouse.lastLocation.x=this.mouse.location.x,this.mouse.lastLocation.y=this.mouse.location.y,a.changedTouches&&(b=a.changedTouches[0]),a.pageX&&a.pageY?(this.mouse.location.x=this.map(a.pageX,0,window.innerWidth,0,c.width),this.mouse.location.y=this.map(a.pageY,0,window.innerHeight,0,c.height)):a.clientX&&a.clientY?(this.mouse.location.x=this.map(a.clientX,0,window.innerWidth,0,c.width),this.mouse.location.y=this.map(a.clientY,0,window.innerHeight,0,c.height)):b&&(this.mouse.location.x=b.pageX,this.mouse.location.y=b.pageY),this.mouse.velocity.x=this.mouse.lastLocation.x-this.mouse.location.x,this.mouse.velocity.y=this.mouse.lastLocation.y-this.mouse.location.y},j.extend=function(a,b){function c(){}c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a},j.getWindowSize=function(){var a={width:!1,height:!1};return"undefined"!=typeof window.innerWidth?(a.width=window.innerWidth,a.height=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth?(a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight):"undefined"!=typeof document.body&&(a.width=document.body.clientWidth,a.height=document.body.clientHeight),a},j.updateOrientation=function(){setTimeout(function(){j._records.list[0]._setBounds()},500)},j.getRandomNumber=function(a,b,c){return c?Math.random()*(b-(a-1))+a:Math.floor(Math.random()*(b-(a-1)))+a},j._toggleStats=function(){j._statsDisplay?j._statsDisplay&&j._statsDisplay._active?j._statsDisplay.destroy():j._statsDisplay&&!j._statsDisplay._active&&(j._statsDisplay=new a.StatsDisplay):j._statsDisplay=new a.StatsDisplay},j._getSupportedFeatures=function(){var b;return b=window.Modernizr?{csstransforms3d:Modernizr.csstransforms3d,csstransforms:Modernizr.csstransforms,touch:Modernizr.touch}:{csstransforms3d:a.FeatureDetector.detect("csstransforms3d"),csstransforms:a.FeatureDetector.detect("csstransforms"),touch:a.FeatureDetector.detect("touch")}},j.map=function(a,b,c,d,e){var f=(a-b)/(c-b);return f*(e-d)+d},j._draw=function(b){var c=a.System.getCSSText({x:b.location.x-b.width/2,y:b.location.y-b.height/2,angle:b.angle,scale:b.scale||1,width:b.autoWidth?null:b.width,height:b.autoHeight?null:b.height,color0:b.color[0],color1:b.color[1],color2:b.color[2],colorMode:b.colorMode,visibility:b.visibility,opacity:b.opacity,zIndex:b.zIndex,borderWidth:b.borderWidth,borderStyle:b.borderStyle,borderColor0:b.borderColor[0],borderColor1:b.borderColor[1],borderColor2:b.borderColor[2],borderRadius:b.borderRadius,boxShadowOffsetX:b.boxShadowOffset.x,boxShadowOffsetY:b.boxShadowOffset.y,boxShadowBlur:b.boxShadowBlur,boxShadowSpread:b.boxShadowSpread,boxShadowColor0:b.boxShadowColor[0],boxShadowColor1:b.boxShadowColor[1],boxShadowColor2:b.boxShadowColor[2],position:b.position,paddingTop:b.paddingTop,paddingRight:b.paddingRight,paddingBottom:b.paddingBottom,paddingLeft:b.paddingLeft,marginTop:b.marginTop});b.el.style.cssText=c},j.getCSSText=function(a){return this._stylePosition.replace(/<x>/g,a.x).replace(/<y>/g,a.y).replace(/<angle>/g,a.angle).replace(/<scale>/g,a.scale)+"width: "+a.width+"px; height: "+a.height+"px; background-color: "+a.colorMode+"("+a.color0+", "+a.color1+("hsl"===a.colorMode?"%":"")+", "+a.color2+("hsl"===a.colorMode?"%":"")+"); border: "+a.borderWidth+"px "+a.borderStyle+" "+a.colorMode+"("+a.borderColor0+", "+a.borderColor1+("hsl"===a.colorMode?"%":"")+", "+a.borderColor2+("hsl"===a.colorMode?"%":"")+"); border-radius: "+a.borderRadius+"%; box-shadow: "+a.boxShadowOffsetX+"px "+a.boxShadowOffsetY+"px "+a.boxShadowBlur+"px "+a.boxShadowSpread+"px "+a.colorMode+"("+a.boxShadowColor0+", "+a.boxShadowColor1+("hsl"===a.colorMode?"%":"")+", "+a.boxShadowColor2+("hsl"===a.colorMode?"%":"")+"); visibility: "+a.visibility+"; opacity: "+a.opacity+"; z-index: "+a.zIndex+"; position: "+a.position+"; padding-top: "+a.paddingTop+"px; padding-right: "+a.paddingRight+"px; padding-bottom: "+a.paddingBottom+"px; padding-left: "+a.paddingLeft+"px; margin-top: "+a.marginTop+"px;"},g.prototype.step=function(){},g.prototype.draw=function(){a.System._draw(this)},g.prototype._setBounds=function(){var b=a.System.getWindowSize();this.boundToWindow?(this.bounds=[0,b.width,b.height,0],this.width=b.width,this.height=b.height):this.bounds=[0,this.width,this.height,0],this.location||(this.location=new a.Vector(b.width/2,b.height/2))},j.extend(h,f),h.prototype.init=function(a){this.width=a.width||20,this.height=a.height||20,this.color=a.color||[100,100,100],this.borderRadius=a.borderRadius||0},j.extend(i,f),i.prototype.init=function(b){this.width=b.width||20,this.height=b.height||20,this.color=b.color||[0,0,0],this.colorMode=b.colorMode||"rgb",this.borderRadius=b.borderRadius||100,this.opacity=b.opacity||1,this.boxShadowOffset=b.boxShadowOffset||new a.Vector,this.boxShadowBlur=b.boxShadowBlur||0,this.boxShadowSpread=b.boxShadowSpread||0,this.boxShadowColor=b.boxShadowColor||[0,0,0]},a.Vector=c,a.StatsDisplay=d,a.FeatureDetector=e,a.Item=f,a.System=j,a.World=g,a.Box=h,a.Ball=i}({},function(){return this}());